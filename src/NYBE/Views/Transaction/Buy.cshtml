@model NYBE.Models.TransactionViewModels.BuyViewModel

@{
    ViewData["Title"] = "Buy";
}

<script src="//code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.15/datatables.min.css" />
<script>
    var jquery = jQuery.noConflict();
    jquery(document).ready(function () {
        jquery('#bookListingTable').DataTable();
    });
</script>

<h2 class="text-center">@ViewData["Title"] @Model.book.Title</h2>

    <div class="row">
        <div class="col-sm-10 col-sm-offset-2">
            <hr />
            <div class="form-group">
                <div class="col-sm-2 col-sm-offset-2">
                    @if (Model.book.Image != null)
                    {
                        <img src="@Model.book.Image" class="img-responsive" style="max-width:100px; max-height:150px; width:100%; height:100%;" />
                    }
                    else
                    {
                        <i class="glyphicon glyphicon-book" style="font-size:100px; color:dimgrey;"></i>
                    }
                </div>
                <div class="col-sm-8">
                    <p><b>Author:</b> @Model.book.AuthorFName @Model.book.AuthorLName</p>
                    <p><b>@Model.book.Edition Edition</b></p>
                    <p><b>ISBN:</b> @Model.book.ISBN</p>
                    <p><b>Description:</b> @Model.book.Description</p>
                    <p><b>Publisher:</b> @Model.book.Publisher</p>
                    <p><b>Seller:</b> @Model.seller.FirstName @Model.seller.LastName</p>
                    @if (Model.seller.PreferredContact.Equals("Email"))
                    {
                        <p><b>Email:</b> @Model.seller.Email</p>
                    }
                    else
                    {
                        <p><b>Phone:</b> @Model.seller.PhoneNumber</p>
                    }
                </div>
            </div>
            <div class="row"></div>
            <div class="row">
                    <h4 class="text-center"><b>Note:</b> You must contact the seller preferably by their prefered contact.</h4>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-10 col-sm-offset-2">
            <form asp-controller="Transaction" asp-action="Buy" method="post" class="form-horizontal">
                <hr />
                <div class="form-group">
                    <div class="col-sm-6 col-sm-offset-4">
                        <button type="button" onclick="history.go(-1)" class="btn btn-primary">Cancel</button>
                        <button type="submit" class="btn btn-success">Buy</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    @section Scripts {
        @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    }
